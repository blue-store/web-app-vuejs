(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"0699":function(t,e,s){"use strict";s("a4a7")},1416:function(t,e,s){},4076:function(t,e,s){},"48e6":function(t,e,s){"use strict";s("1416")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a,n=s("2b0e"),i=s("8c4f"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container my-5",attrs:{id:"app"}},[s("div",{staticClass:"row action-panel"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"btn-group btn-group-sm pull-right"},[s("button",{staticClass:"btn btn-outline-dark",attrs:{id:"list"},on:{click:function(e){return e.preventDefault(),t.changeDisplay(!0)}}},[s("i",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}}),t._v(" List ")]),s("button",{staticClass:"btn btn-outline-dark",attrs:{id:"grid"},on:{click:function(e){return e.preventDefault(),t.changeDisplay(!1)}}},[s("i",{staticClass:"fa fa-th",attrs:{"aria-hidden":"true"}}),t._v(" Grid ")])])])]),s("div",{staticClass:"row"},t._l(t.forSale,(function(e){return s("Item",{key:e.id,attrs:{idx:e.id,description:e.description,price:e.price,quantity:e.quantity,thumbnail_url:e.thumbnail_url,title:e.title,displayList:t.displayList}})})),1)])},o=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-3 col-sm-6 col-md-4 item",class:{"list-group-item":t.displayList}},[s("div",{staticClass:"thumbnail card"},[s("div",{staticClass:"img-event intrinsic"},[s("img",{staticClass:"grow thumbnail-image card-img-top intrinsic-item p-3",attrs:{src:t.thumbnail_url,alt:""}})]),s("div",{staticClass:"card-body"},[s("h6",{staticClass:"card-subtitle mb-2 remain"},[t._v(t._s(t.quantity)+" left in stock")]),s("p",{staticClass:"card-text truncate"},[t._v(t._s(t._f("shortDescription")(t.description)))]),s("div",{staticClass:"row"},[s("p",{staticClass:"col-6 lead"},[t._v("$"+t._s(t.price))]),s("p",{staticClass:"col-6"},[s("button",{staticClass:"btn btn-success pull-right",attrs:{disabled:0===t.quantity},on:{click:function(e){return t.addToCart(t.idx)}}},[t._v(" Add to cart ")])])])])])])},l=[],u=function(t){return"$".concat(t/100)},d={name:"item",props:["description","idx","price","quantity","thumbnail_url","title","displayList"],filters:{dollars:u,shortDescription:function(t){return t&&t.length>100?t.substring(0,100)+"...":t}},methods:{addToCart:function(t){this.$store.commit("addToCart",t)}}},m=d,p=(s("48e6"),s("2877")),f=Object(p["a"])(m,c,l,!1,null,"19825a08",null),h=f.exports,g={name:"app",data:function(){return{displayList:!1}},computed:{forSale:function(){return this.$store.getters.forSale},inCart:function(){return this.$store.getters.inCart}},mounted:function(){},components:{Item:h},methods:{changeDisplay:function(t){this.displayList=t}}},b=g,v=Object(p["a"])(b,r,o,!1,null,null,null),C=v.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("button",{staticClass:"btn btn-primary",attrs:{"data-toggle":"modal","data-target":"#shoppingCart"}},[s("i",{staticClass:"fa fa-shopping-cart",attrs:{"aria-hidden":"true"}}),t._v(" ( "+t._s(t.numInCart)+" ) ")]),s("div",{staticClass:"modal fade",attrs:{id:"shoppingCart"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[t._m(0),s("div",{staticClass:"modal-body"},[s("table",{staticClass:"table"},[s("tbody",[t._l(t.cart,(function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(e.title))]),s("td",[t._v("$"+t._s(e.price))]),s("td",[s("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){return t.removeFromCart(t.index)}}},[t._v("×")])])])})),s("tr",[s("th"),s("th",[t._v("$"+t._s(t.total))]),s("th")])],2)])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{"data-dismiss":"modal"}},[t._v("Keep shopping")]),s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.checkout()}}},[t._v("Check out")])])])])])])},y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[s("i",{staticClass:"fa fa-shopping-cart",attrs:{"aria-hidden":"true"}}),t._v(" Shopping cart ")]),s("button",{staticClass:"close",attrs:{"data-dismiss":"modal"}},[t._v(" × ")])])}],k=(s("7db0"),s("d81d"),s("13d5"),s("5530")),O=s("2f62"),E={name:"ShoppingCart",filters:{dollars:u},computed:Object(k["a"])({inCart:function(){return this.$store.getters.inCart},numInCart:function(){return this.inCart.length},cart:function(){var t=this;return this.$store.getters.inCart.map((function(e){return t.$store.getters.forSale.find((function(t){return e===t.id}))}))},total:function(){return this.cart.reduce((function(t,e){return t+e.price}),0)},isAuthenticated:function(){return this.$store.state.user.isAuthenticated}},Object(O["c"])([])),methods:Object(k["a"])(Object(k["a"])({},Object(O["b"])(["addMessage"])),{},{removeFromCart:function(t){this.$store.dispatch("removeFromCart",t)},checkout:function(){this.isAuthenticated?0!=this.numInCart||this.addMessage({messageClass:"warning",message:"Your cart is empty!"}):this.addMessage({messageClass:"warning",message:"Please login to checkout"})}})},w=E,S=Object(p["a"])(w,_,y,!1,null,null,null),$=S.exports,j=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},A=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("h4",{staticStyle:{"margin-top":"30px","margin-bottom":"30px"}},[t._v("Logging in ...")])])}],M=(s("b0c0"),{name:"Login",mounted:function(){var t=this.$route.query.name,e=this.$route.query.email,s=this.$route.query.id_token,a={name:t,email:e,idToken:s};t&&e&&s&&""!=t&&""!=e&&""!=s?this.$store.commit("login",a):this.$store.commit("logout"),this.$router.push("/")}}),x=M,L=Object(p["a"])(x,j,A,!1,null,"24710aea",null),T=L.exports,P=[{path:"/",component:C,name:"mainpage"},{path:"/cart",component:$,name:"shoppingcart"},{path:"/loginwithtoken",component:T,name:"loginwithtoken"},{path:"*",redirect:"/"}],R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex flex-column sticky-footer-wrapper"},[s("main",{staticClass:"flex-fill"},[s("NavHeader"),s("MessageComponent"),s("div",{staticClass:"container mt-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("router-view")],1)])])],1),t._m(0)])},D=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"navbar-default navbar-bottom navbar-dark bg-dark"},[s("div",{staticClass:"container-fluid"},[s("p",{staticClass:"text-center nav-bar mb-0"},[t._v("Checkout repository at "),s("a",{attrs:{href:"https://github.com/ittus/vuejs-firebase-shopping-cart",target:"_blank"}},[t._v(" https://github.com/ittus/vuejs-firebase-shopping-cart ")])])])])}],U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-sm navbar-dark bg-dark",attrs:{role:"navigation"}},[s("div",{staticClass:"container"},[s("router-link",{staticClass:"navbar-brand mr-auto",attrs:{to:"/"}},[t._v("Blue Online Store")]),s("ul",{staticClass:"navbar-nav mr-auto"}),s("ul",{staticClass:"nav navbar-nav"},[t.isAuthenticated?t._e():s("router-link",{staticClass:"nav-item",attrs:{to:"/",tag:"li","active-class":"active"}},[s("a",{staticClass:"nav-link",on:{click:t.onLoginClicked}},[t._v("Login")])]),t.isAuthenticated?s("li",{staticClass:"li-pointer nav-item"},[s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" "+t._s(t.getUserName())+" ")]),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Account Settings")]),s("a",{staticClass:"dropdown-item",on:{click:t.onLogoutClicked}},[t._v("Logout "+t._s(t.userEmail))])])])]):t._e(),s("li",[s("ShoppingCart")],1)],1)],1)])},N=[],B={components:{ShoppingCart:$},name:"NavHeader",data:function(){return{webApiUrl:this.$store.state.endpoints.api+"manage",isNavOpen:!1,isLoggedIn:!1}},computed:{userEmail:function(){return this.isLoggedIn?this.currentUser.email:""},isAuthenticated:function(){return this.$store.state.user.isAuthenticated},isAuthenticationEnabled:function(){return"authentication-enabled-yes"==this.$store.state.authenticationEnabled},inCart:function(){return this.$store.getters.inCart},numInCart:function(){return this.inCart.length}},methods:{toggleNavbar:function(){this.isNavOpen=!this.isNavOpen},onLoginClicked:function(){window.location=this.$store.state.endpoints.login},onLogoutClicked:function(){this.$store.commit("logout")},getUserName:function(){return this.$store.state.user.name}}},F=B,G=(s("cc98"),Object(p["a"])(F,U,N,!1,null,"ab62696a",null)),q=G.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:(t.showMessageBar?"":"d-none")+"  message-bar"},[s("div",{class:t.messageClass},[s("Button",{staticClass:"btn btn-link close-btn",attrs:{bsStyle:"link"},on:{click:t.closeMessageBar}},[s("i",{staticClass:"fa fa-times"})]),s("div",[t._v(t._s(t.currentMessage))])],1)])},V=[],H={computed:Object(k["a"])(Object(k["a"])({},Object(O["c"])(["messages"])),{},{showMessageBar:function(){return this.messages.message&&this.messages.message.length>0},messageClass:function(){var t=this.messages.messageClass;return"col-12 panel panel-"+t+" "+(this.showMessageBar?"":"hidden")},currentMessage:function(){return this.messages.message}}),methods:Object(k["a"])(Object(k["a"])({},Object(O["b"])(["clearMessage"])),{},{closeMessageBar:function(){this.clearMessage()}})},J=H,K=(s("0699"),Object(p["a"])(J,I,V,!1,null,"54baee6e",null)),Y=K.exports,z={components:{NavHeader:q,MessageComponent:Y},methods:{},mounted:function(){this.$store.commit("setUrls"),this.$store.dispatch("getForSaleProducts")}},Q=z,W=(s("034f"),Object(p["a"])(Q,R,D,!1,null,null,null)),X=W.exports,Z=(s("a434"),s("bc3a")),tt=s.n(Z),et=s("0e44");n["a"].use(O["a"]);var st=new O["a"].Store({plugins:[Object(et["a"])()],state:{forSale:[],inCart:[],authenticationEnabled:"authentication-enabled-yes",endpoints:{login:"http://localhost:3000/login",products:"http://localhost:8080/products"},user:{isAuthenticated:!1,name:"",email:"",idToken:""},messageGroup:{messageClass:"",message:"",timeoutEvent:null}},getters:{forSale:function(t){return t.forSale},inCart:function(t){return t.inCart},messages:function(t){return t.messageGroup}},mutations:{addToCart:function(t,e){t.inCart.push(e)},REMOVE_FROM_CART:function(t,e){t.inCart.splice(e,1)},SET_FORSALE:function(t,e){t.forSale=e},logout:function(t){t.user.isAuthenticated=!1,t.user.name="",t.user.email="",t.user.idToken=""},login:function(t,e){t.user.isAuthenticated=!0,t.user.name=e.name,t.user.email=e.email,t.user.idToken=e.idToken},setUrls:function(t){t.endpoints.login="http://localhost:3000/login",t.endpoints.products="http://products-bluestore.ydbcluster-fra02-b3c-4x16-162e406f043e20da9b0ef0731954a894-0000.eu-de.containers.appdomain.cloud/products",a=t.endpoints.products,console.log(Object({NODE_ENV:"production",VUE_APP_AUTH_URL:"http://localhost:3000/login",VUE_APP_PRODUCTS_URL:"http://products-bluestore.ydbcluster-fra02-b3c-4x16-162e406f043e20da9b0ef0731954a894-0000.eu-de.containers.appdomain.cloud/products",BASE_URL:"/"}))},ADD_MESSAGE:function(t,e){var s=e.message,a=e.messageClass;t.messageGroup={messageClass:a,message:s},t.timeoutEvent&&clearTimeout(t.timeoutEvent),t.timeoutEvent=setTimeout((function(){t.messageGroup={messageClass:"",message:""}}),5e3)},CLEAR_MESSAGE:function(t){t.messageGroup={messageClass:"",message:""}}},actions:{addMessage:function(t,e){t.commit("ADD_MESSAGE",e)},clearMessage:function(t){var e=t.commit;e("CLEAR_MESSAGE")},removeFromCart:function(t,e){t.commit("REMOVE_FROM_CART",e)},getForSaleProducts:function(t){var e=t.commit;tt.a.get(a).then((function(t){e("SET_FORSALE",t.data),console.log(t.data)}))}}});n["a"].use(i["a"]);var at=new i["a"]({mode:"history",routes:P});new n["a"]({el:"#app",router:at,store:st,render:function(t){return t(X)}})},"85ec":function(t,e,s){},a4a7:function(t,e,s){},cc98:function(t,e,s){"use strict";s("4076")}});
//# sourceMappingURL=app.0c6e1420.js.map